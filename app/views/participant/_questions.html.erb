<div>Quiz </div>
<%= form_tag(save_quiz_answers_path, :method => "POST") do %>
  <section class="demo">
    <div class="container">
      <% @questions.each do |question|   %>
        <% ques = question[1].select {|n| n["ref"].to_i == 0 } %>
        <% options = question[1].select {|n| n["ref"].to_i != 0 } %>
        <div >
          <p>Question</p>
          <br />
          <%= ques[0]["data"] %><br />
          <% options.each do |opt| %>
            <%= radio_button_tag("answer_#{opt['qid']}", opt["ref"].to_i) %> <%= label_tag(opt["qid"], opt["data"]) %> <br />
          <% end %>
          <br />
        </div>
      <% end %>
    </div>
  </section>
  <button class="next" type="button">Next</button>
  <div>
    <%= submit_tag "Save" %>
  </div>
<% end %>

<script type="text/javascript">

  var currentIndex = 0,
  items = $('.container div'),
  itemAmt = items.length;

  function cycleItems() {
    var item = $('.container div').eq(currentIndex);
    items.hide();
    item.css('display','inline-block');
  }


  $('.next').click(function() {
    currentIndex += 1;
    if (currentIndex > itemAmt - 1) {
      currentIndex = 0;
    }
    cycleItems();
  });

</script>